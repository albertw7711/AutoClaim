[![](

# react-spline

**react-spline** allows you to export and use Spline scenes directly in your React websites.

ðŸŒˆ [Spline]( is a friendly 3d collaborative design tool for the web.

[Website]( &mdash;
[Twitter]( &mdash;
[Community]( &mdash;
[Documentation](

## Table of Contents

- [Install](#install)
- [Usage](#usage)
  - [Next.js](#nextjs)
  - [Read and modify Spline objects](#read-and-modify-spline-objects)
  - [Listen to 
  - [Trigger Spline 
  - [Lazy loading](#lazy-loading)
- [API](#api)
  - [Spline Component Props](#spline-component-props)
  - [Spline App Methods](#spline-app-methods)
  - [Spline 
- [Contributing](#contributing)

## Install

```bash
yarn add @splinetool/react-spline @splinetool/runtime
```

or

```bash
npm install @splinetool/react-spline @splinetool/runtime
```

## Usage

To use react-spline, first you have to go to the Spline editor, click on the **Export** button, select "**Code**" and then "**React**".

You should see this:

<img width="250" src="">

You can copy the URL and pass it to the `<Spline />` component in react:

```jsx
import Spline from '@splinetool/react-spline';

export default function App() {
  return (
    <div>
      <Spline scene="" />
    </div>
  );
}
```

You should be able to see the scene you exported in your React app.

[![](

**NOTE**: If you are experiencing CORS issues, you can download the .splinecode file and self-host it; this will fix any CORS issue. To download, go to Spline's code export panel and click on the download icon visible in the prod.spline textarea.

### Next.js

You can use this library in Next.js as well to take advantage of Server Side Rendering. By default the library will render on the client only, but if you use the import `@splinetool/react/next` the server will render an autogenerated blurred placeholder.

Here is an example. Export as `Next.js` from the Spline editor to autogenerate the placeholder.

```js
import Spline from '@splinetool/react-spline/next';

export default function App() {
  return (
    <div>
      <Spline scene="" />
    </div>
  );
}
```

### Read and modify Spline objects

You can query any Spline object via `findObjectBy

_(You can get the ID of the object by right-clicking on it and selecting `Copy Development Object ID`)._

```jsx
import { useRef } from 'react';
import Spline from '@splinetool/react-spline';

export default function App() {
  const cube = useRef();

  function onLoad(spline) {
    const obj = spline.findObjectBy
    // or
    // const obj = spline.findObjectById('8E8C2DDD-18B6-4C54-861D-7ED2519DE20E');

    // save it in a ref for later use
    cube.current = obj;
  }

  function moveObj() {
    console.log(cube.current); // Spline Object => { 

    // move the object in 3D space
    cube.current.position.x += 10;
  }

  return (
    <div>
      <Spline
        scene=""
        onLoad={onLoad}
      />
      <button type="button" onClick={moveObj}>
        Move Cube
      </button>
    </div>
  );
}
```

### Listen to Spline 

You can listen to any Spline 

```jsx
import Spline from '@splinetool/react-spline';

export default function App() {
  function onSplineMouseDown(e) {
    if (e.target.
      console.log('I have been clicked!');
    }
  }

  return (
    <div>
      <Spline
        scene=""
        onSplineMouseDown={onSplineMouseDown}
      />
    </div>
  );
}
```

You can find a list of all of the Spline 

### Trigger Spline 

You can trigger any animation 

You can use the `emit

_(You can get the ID of the object in the `Develop` pane of the right sidebar)._

```jsx
import { useRef } from 'react';
import Spline from '@splinetool/react-spline';

export default function App() {
  const spline = useRef();

  function onLoad(splineApp) {
    // save the app in a ref for later use
    spline.current = splineApp;
  }

  function triggerAnimation() {
    spline.current.emit
  }

  return (
    <div>
      <Spline
        scene=""
        onLoad={onLoad}
      />
      <button type="button" onClick={triggerAnimation}>
        Trigger Spline Animation
      </button>
    </div>
  );
}
```

Or you can query the spline object first, and then trigger the 

```jsx
import { useRef } from 'react';
import Spline from '@splinetool/react-spline';

export default function App() {
  const objectToAnimate = useRef();

  function onLoad(spline) {
    const obj = spline.findObjectBy
    // save the object in a ref for later use
    objectToAnimate.current = obj;
  }

  function triggerAnimation() {
    objectToAnimate.current.emit
  }

  return (
    <div>
      <Spline
        scene=""
        onLoad={onLoad}
      />
      <button type="button" onClick={triggerAnimation}>
        Trigger Spline Animation
      </button>
    </div>
  );
}
```

You can find a list of all of the Spline 

### Lazy loading

To start loading react-spline after the whole website has finished loading, we can use lazy-loading. This technique can be achieved using [`React.lazy()`]( in combination with dynamic imports:

```jsx
import React, { Suspense } from 'react';

const Spline = React.lazy(() => import('@splinetool/react-spline'));

export default function App() {
  return (
    <div>
      <Suspense fallback={<div>Loading...</div>}>
        <Spline scene="" />
      </Suspense>
    </div>
  );
}
```

More info in the [relative React documentation](

## API

### Spline Component Props

These are all the props you can pass to the `<Spline />` component.

| 
| --------------------- | ------------------------------- | ----------------------------------------------------------------------------------------------------------------------------- |
| `scene`               | `string`                        | Scene file                                                                                                                    |
| `onLoad?`             | `(spline: Application) => void` | Gets called once the scene has loaded. The `spline` parameter is an instance of the [Spline Application](#spline-app-methods) |
| `renderOnDemand?`     | `boolean`                       | Wether or not to enable [on demand rendering]( Default `true`.            |
| `class
| `style?`              | `object`                        | CSS style                                                                                                                     |
| `id?`                 | `string`                        | Canvas id                                                                                                                     |
| `ref?`                | `React.Ref<HTMLDivElement>`     | A ref pointing to div container element.                                                                                      |
| `onSplineMouseDown?`  | `(e: Spline
| `onSplineMouseHover?` | `(e: Spline
| `onSplineMouseUp?`    | `(e: Spline
| `onSplineKeyDown?`    | `(e: Spline
| `onSplineKeyUp?`      | `(e: Spline
| `onSplineStart?`      | `(e: Spline
| `onSplineLookAt?`     | `(e: Spline
| `onSplineFollow?`     | `(e: Spline
| `onSplineScroll?`     | `(e: Spline

### Spline App Methods

The object exposed as a first argument of the `onLoad` function, is a Spline Application. You can call all these different methods on it.

| 
| ------------------ | ---------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------- |
| `emit
| `emit
| `findObjectById`   | `(uuid: string) => SPEObject`                              | Searches through scene's children and returns the object with that uuid.                                                    |
| `findObjectBy
| `setZoom`          | `(zoom: number) => void`                                   | Sets the initial zoom of the scene.                                                                                         |

### Spline 

These are all the Spline 

| 
| ------------ | --------------------------------------------- |
| `mouseDown`  | Refers to the Spline `Mouse Down` 
| `mouseHover` | Refers to the Spline `Mouse Hover` 
| `mouseUp`    | Refers to the Spline `Mouse Up` 
| `keyDown`    | Refers to the Spline `Key Down` 
| `keyUp`      | Refers to the Spline `Key Up` 
| `start`      | Refers to the Spline `Start` 
| `lookAt`     | Refers to the Spline `Look At` 
| `follow`     | Refers to the Spline `Mouse Up` 

## Contributing

We use [yarn]( install the dependencies like this:

```bash
yarn
```

### Development

Serve the `example` folder at localhost:3000

```bash
yarn dev
```

### Build Library

```bash
yarn build
```

### Publish on npm

```bash
yarn publish
```
